---
date: 2020-02-26 22:53:00
title: Creating a contact form in gatsby
description: In this quick article, I will tell you how was my experience building a form with gatsby + netlify
category: gatsby
featuredImage: ./images/contact-form-post.png
---

### Creating a contact form in gatsby

So, I just released a contact form on my website and you can check it by accessing the [contact form](https://www.fabiotetsuo.com/contact).
Now I would like to tell you how was my experience building a contact form, using `gatsby` and `netlify` to receive the requests.
To be honest, it was really simple and quick, first I created the form in my contact page:

```jsx
import React from 'react';

import Layout from '../components/Layout';
import SEO from '../components/seo';
import TextField from '../components/Input/TextField';
import TextArea from '../components/Input/TextArea';
import { Heading } from '../components/Typography';
import Button from '../components/Button';

const ContactPage = ({ data }) => {
  return (
    <Layout sidebar>
      <SEO title="Contact me!" />
      <form name="contact" method="POST">
        <Heading size={3}>
          Contact me!
        </Heading>
        <TextField
          label="What's your full name? *"
          id="name"
          type="text"
          name="name"
          helperText="Would you mind to tell your name?"
          required
        />
        <TextField
          label="E-mail *"
          id="email"
          type="email"
          name="email"
          helperText="What is your best e-mail so I can contact you?"
          required
        />
        <TextField
          label="Your website"
          id="website"
          type="text"
          name="website"
          helperText="Do you have a website?"
        />
        <TextArea
          label="Describe your project *"
          id="message"
          name="message"
          rows="8"
          helperText="Tell me more about your project, your goals and how can I help you."
          required
        />
        <Button type="submit">
          Submit
        </Button>
      </form>
    </Layout>
  );
};

export default ContactPage;

```
And now the best part, how do I send data from the form?
Well I decided to go with Netlify Form approach, it's really quick and simple, and helped me a lot, the first thing you have to do, is to add some specific attributes into your form:

```jsx
<form
  data-netlify="true"
  data-netlify-honeypot="bot-field"
  name="contact"
  method="POST"
>
  <input type="hidden" name="form-name" value="contact" />
  <Heading size={3}>
    Contact me!
  </Heading>
  <TextField
    label="What's your full name? *"
    id="name"
    type="text"
    name="name"
    helperText="Would you mind to tell your name?"
    required
  />
  /* the rest of the form... */
```
Now, there is an important detail here, which is the `data-netlify` and `data-netlify-honeypot` attribute in my contact form. The first one is responsible essentially to allow netlify to start receiving submissions from the form, and the last one is really cool spam prevention, basically, it inserts a hidden field that only bots are capable to fill and the submission is rejected by netlify.
Also, we have the addition of the hidden input `form-name` with the value of our form's name, this is required to send data from your form to netlify.
And last, but not least our inputs have the name attribute, which will be sent as the payload in your submission.
\
\
Done, we have a form integrated with netlify, and if we send the data, we must see the default message from netlify, informing us that the data was sent with success, and a button to go back to the page.

![Success message from netlify](./images/netlify-success-message.jpeg)

That's really cool, but what if we want to deliver a custom message?
With netlify it's really simple, all we have to do is to add a new attribute into our form, called action.

```jsx
<form
  style={{ width: '100%' }}
  data-netlify="true"
  data-netlify-honeypot="bot-field"
  name="contact"
  method="POST"
  action="/contact/success"
>
```
Now, all we have to do is to create a page in our application for the success message:

```jsx
import React from 'react';
import { Container, Row, Col } from 'react-awesome-styled-grid';
import { graphql, Link } from 'gatsby';
import Img from 'gatsby-image';

import Layout from '../../components/Layout';
import SEO from '../../components/seo';
import { Heading, Body } from '../../components/Typography';
import Button from '../../components/Button';

const SuccessPage = ({ data }) => {
  const successContent = data.file.childImageSharp.fluid;
  return (
    <Layout sidebar>
      <SEO title="Your submission was sent with success!" />
      <Container>
        <Row style={{
          marginTop: '36px',
        }}>
          <Col xs={4} sm={4} lg={6}>
            <Img
              fluid={successContent}
              alt="E-mail sent with success "
              objectFit="cover"
              style={{
                width: '100%',
                display: 'table',
                alignSelf: 'center',
                maxHeight: '350px',
              }}
            />
          </Col>
          <Col xs={4} sm={4} lg={6}>
            <div style={{
              display: 'flex',
              flexDirection: 'column',
              justifyContent: 'center',
            }}>
              <Heading size={3}>
                It's all done!
              </Heading>
              <Body size={1}>
                Your e-mail was sent with success, I'll contact you soon.
              </Body>
              <Link to="/">
                <Button style={{ marginTop: '16px' }}>
                  Go back to the site
                </Button>
              </Link>
            </div>
          </Col>
        </Row>
      </Container>
    </Layout>
  );
}

export const query = graphql`
  query {
    file(relativePath: {eq: "successcontent.webp"}) {
      childImageSharp {
        fluid(maxWidth: 800, quality: 100) {
          ...GatsbyImageSharpFluid_withWebp
          presentationWidth
          presentationHeight
        }
      }
    }
  }
`;

export default SuccessPage;

```
![Custom success message in our application!](./images/custom-success-message.png)
And that's it! Now, when the form is sent, a friendly success page will be shown to the user!

That's it folks, hope you liked it!